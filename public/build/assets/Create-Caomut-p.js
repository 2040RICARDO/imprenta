import{W as j,r as b,j as e,d as f}from"./app-CHYGdead.js";import{L as g}from"./Layout-Wfi7iR6g.js";import{I as N}from"./inputtext.esm-H8qzUAnW.js";import{B as v}from"./button.esm-Hv8xCZ0W.js";import{I as w}from"./inputtextarea.esm-CLd9R0Jq.js";import{B as y,Q as k}from"./ReactToastify-EWHmp7L1.js";import"./ripple.esm-CspZCiMg.js";import"./CSSTransition-ZZGb8p9d.js";function P({errors:r,permissions:c,flash:l,permisos:o}){const{data:d,setData:t,post:n}=j({name:"",descripcion:"",permisos:[]});function m(s){s.preventDefault(),n(route("role.store"))}b.useEffect(()=>{(Object.keys(r).length>0||l.message!=null)&&x("Ocurrio un problema!")},[l]);const x=s=>y.error(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),p=(s,a)=>{const h=s.target.checked;t(i=>({...i,permisos:h?[...i.permisos,a]:i.permisos.filter(u=>u!==a)}))};return e.jsxs(g,{permisos:o,children:[e.jsx("div",{children:e.jsx(k,{})}),e.jsx("div",{className:"grid",children:e.jsx("div",{className:"col-12 md:col-12",children:e.jsxs("div",{className:"card",style:{width:"100%"},children:[e.jsx("h5",{children:"NUEVA ROL"}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-6 md:col-6",children:e.jsxs("form",{onSubmit:m,className:"p-fluid",children:[e.jsx("div",{className:"-mx-3 md:flex mb-6",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"ROL"}),e.jsx(N,{id:"name",name:"name",value:d.name,onChange:s=>t("name",s.target.value),required:!0}),r.name&&e.jsx("div",{className:"text-red-500",children:r.name})]})}),e.jsx("div",{className:"-mx-3 md:flex mb-5",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"DESCRIPCION"}),e.jsx(w,{id:"descripcion",name:"descripcion",autoResize:!0,value:d.descripcion,onChange:s=>t("descripcion",s.target.value),rows:5,cols:30,required:!0}),r.descripcion&&e.jsx("div",{className:"text-red-500",children:r.descripcion})]})}),e.jsx("div",{className:"p-field mb-4 flex justify-between",children:e.jsxs("div",{className:"flex",children:[e.jsx(v,{type:"submit",label:"Guardar",className:"p-button-sm mr-2",severity:"info",outlined:!0}),e.jsx(f,{className:"p-button p-button-sm p-button-danger",href:route("role.index"),style:{color:"white"},children:"Cancelar"})]})})]})}),e.jsx("div",{className:"col-5 md:col-5 overflow-y-scroll",style:{height:"300px"},children:e.jsxs("table",{className:"items-center w-full border-collapse text-blueGray-700",children:[e.jsx("thead",{class:"thead-light ",children:e.jsx("tr",{children:e.jsx("th",{colSpan:3,children:"PERMISOS"})})}),e.jsx("tbody",{children:c.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:e.jsx("input",{type:"checkbox",onChange:a=>p(a,s.name)})}),e.jsx("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:s.name}),e.jsxs("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:["(",s.description,")"]})]},s.id))})]})})]})]})})})]})}export{P as default};
