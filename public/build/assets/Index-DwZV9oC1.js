import{r as t,j as e,d as l}from"./app-CHYGdead.js";import{L as T}from"./Layout-Wfi7iR6g.js";import{D as O,C as i}from"./column.esm--qm2aFAg.js";import{I as F}from"./inputtext.esm-H8qzUAnW.js";import{T as x}from"./button.esm-Hv8xCZ0W.js";import{D as P}from"./dialog.esm-on3wmI5o.js";import"./sweetalert2.all-5vuvPjx3.js";import{B as z,Q as B}from"./ReactToastify-EWHmp7L1.js";import"./ripple.esm-CspZCiMg.js";import"./CSSTransition-ZZGb8p9d.js";import"./dropdown.esm-Dw636Vfu.js";import"./index.esm-wyNcokfP.js";import"./overlayservice.esm-DCauq-q2.js";import"./csstransition.esm-CwpohZbB.js";import"./index.esm-Dox7eZ0I.js";function re({auth:G,materiales:o,message:c,permisos:a}){a.some(s=>s.name==="ver-material");const h=a.some(s=>s.name==="crear-material"),g=a.some(s=>s.name==="editar-material"),u=a.some(s=>s.name==="reporte-material"),[j,b]=t.useState(0),[f,y]=t.useState(10),[v,p]=t.useState([]),[N,C]=t.useState(""),[r,w]=t.useState(null),[M,m]=t.useState(!1);t.useEffect(()=>{c!=null&&R(c),p(o)},[o]);const R=s=>z.success(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),D=s=>{b(s.first),y(s.rows)},S=s=>{C(s.target.value),A(s.target.value)},A=s=>{const d=o.filter(n=>n.id.toString().includes(s)||n.nombre.toLowerCase().includes(s.toLowerCase())||n.unidad.toLowerCase().includes(s.toLowerCase()));p(d)},I=s=>{w(s),m(!0)},k=()=>{m(!1)},L=()=>{window.open("/reporte/material","_blank")},E=e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"p-input-icon-left",style:{marginRight:"10px"},children:[e.jsx("i",{className:"pi pi-search"}),e.jsx(F,{type:"search",value:N,onChange:S,placeholder:"Buscar..."})]}),e.jsxs("div",{className:"items-end",children:[h&&e.jsx(l,{href:route("material.create"),className:"p-button p-button-warning",style:{marginLeft:"10px",color:"black"},children:"Nuevo Material"}),u&&e.jsx(l,{onClick:s=>{s.preventDefault(),L()},className:"p-button p-button-info",style:{marginLeft:"10px",color:"black"},children:"Reporte"})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs(T,{permisos:a,children:[e.jsx("div",{children:e.jsx(B,{})}),e.jsx("div",{className:"grid",children:e.jsx("div",{className:"col-12 md:col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("h5",{children:"Lista de Materiales"}),e.jsxs(O,{value:v,paginator:!0,first:j,rows:f,onPage:D,header:E,emptyMessage:"No hay registros encontrados",children:[e.jsx(i,{field:"id",header:"ID"}),e.jsx(i,{field:"nombre",header:"Material"}),e.jsx(i,{field:"categoria",header:"Categoria"}),e.jsx(i,{field:"unidad",header:"Tipo"}),e.jsx(i,{field:"cantidad_disponible",header:"Disponible"}),e.jsx(i,{field:"stock",header:"Stock"}),e.jsx(i,{header:"",body:s=>e.jsxs("div",{className:"flex justify-around",children:[g&&e.jsxs(l,{href:`/material/edit/${s.id}`,className:"p-button p-button-success p-button-rounded p-button-sm",style:{textDecoration:"none",padding:"0.25rem 0.5rem",fontSize:"0.75rem",marginRight:"5px",borderRadius:"20px"},children:[e.jsx(x,{target:".edit-link",content:"Editar",position:"bottom"}),e.jsx("i",{className:"pi pi-pencil pencil-icon edit-link",style:{marginRight:"2px",fontSize:"0.80rem",color:"black",verticalAlign:"middle"}})]}),e.jsxs(l,{onClick:d=>{d.preventDefault(),I(s)},className:"p-button p-button-info p-button-rounded p-button-sm",style:{textDecoration:"none",padding:"0.25rem 0.5rem",fontSize:"0.75rem",marginRight:"5px",borderRadius:"20px"},children:[e.jsx(x,{target:".show-link",content:"Ver",position:"bottom"}),e.jsx("i",{className:"pi pi-eye pencil-icon show-link",style:{marginRight:"2px",fontSize:"0.80rem",color:"white",verticalAlign:"middle"}})]})]})})]})]})})})]}),e.jsx(P,{visible:M,modal:!0,onHide:k,style:{width:"60%",minWidth:"300px"},children:r&&e.jsx("div",{class:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{class:"max-w-4xl  bg-whiterounded-lg shadow-xl",children:[e.jsxs("div",{class:"p-4 border-b",children:[e.jsx("h2",{class:"text-2xl ",children:"INFORMACION DEL MATERIAL"}),e.jsx("p",{class:"text-sm text-gray-500",children:r.nombre})]}),e.jsxs("div",{children:[e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"CATEGORIA"}),e.jsx("p",{children:r.categoria})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"TIPO"}),e.jsx("p",{children:r.unidad})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"DESCRIPCION"}),e.jsx("p",{children:r.descripcion})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"STOCK"}),e.jsx("p",{children:r.stock})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"SALIDA DE MATERIAL"}),e.jsx("p",{children:r.salida})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"ENTRADA DE MATERIAL"}),e.jsx("p",{children:r.entrada})]})]})]})})})]})}export{re as default};
