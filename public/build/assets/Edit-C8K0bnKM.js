import{W as j,r as b,j as e,d as g}from"./app-CHYGdead.js";import{L as N}from"./Layout-Wfi7iR6g.js";import{I as n}from"./inputtext.esm-H8qzUAnW.js";import{B as v}from"./button.esm-Hv8xCZ0W.js";import{I as m}from"./inputtextarea.esm-CLd9R0Jq.js";import{I}from"./InputError-Cw5M147p.js";import{B as k,Q as w}from"./ReactToastify-EWHmp7L1.js";import"./ripple.esm-CspZCiMg.js";import"./CSSTransition-ZZGb8p9d.js";function D({errors:s,materiales:c,entradaMaterial:l,material:o,permisos:u}){const{data:d,setData:r,put:x}=j({descripcion:l.descripcion,cantidad:l.cantidad,costo_unitario:l.costo_unitario,descripcionMaterial:o.descripcion,materialId:o.id});function p(a){a.preventDefault(),x(route("entradaMaterial.update",{id:l.id}))}b.useEffect(()=>{(Object.keys(s).length>0||flash.message!=null)&&f("Ocurrio un problema!")},[flash]);const f=a=>k.error(a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});return e.jsxs(N,{permisos:u,children:[e.jsx("div",{children:e.jsx(w,{})}),e.jsx("div",{className:"grid",children:e.jsx("div",{className:"col-12 md:col-12",children:e.jsxs("div",{className:"card",style:{width:"100%"},children:[e.jsx("h5",{children:"NUEVA ENTRADA DE MATERIAL"}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-2 md:col-2"}),e.jsx("div",{className:"col-8 md:col-8",children:e.jsxs("form",{onSubmit:p,className:"p-fluid",children:[e.jsxs("div",{className:"-mx-3 md:flex mb-6",children:[e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"CANTIDAD"}),e.jsx(n,{keyfilter:"int",id:"cantidad",name:"cantidad",value:d.cantidad,onChange:a=>{const i=a.target.value.trim();(i===""||parseInt(i)>=0&&!isNaN(parseInt(i)))&&r("cantidad",i===""?"":parseInt(i))},required:!0}),s.cantidad&&e.jsx("div",{className:"text-red-500",children:s.cantidad})]}),e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"COSTO UNITARIO"}),e.jsx(n,{id:"costo_unitario",name:"costo_unitario",value:d.costo_unitario,onChange:a=>{const i=a.target.value.trim(),t=parseFloat(i.replace(",","."));!isNaN(t)&&t>=0&&r("costo_unitario",t.toFixed(2).replace(".",","))},keyfilter:/^[0-9,]+$/,required:!0}),s.costo_unitario&&e.jsx("div",{className:"text-red-500",children:s.costo_unitario})]})]}),e.jsxs("div",{className:"-mx-3 md:flex mb-6",children:[e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"MATERIAL"}),e.jsx("select",{id:"materialId",className:" block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3",value:d.materialId,onChange:a=>{r("materialId",a.target.value);const i=parseInt(a.target.value),t=c.find(h=>h.id===i);t&&r({descripcionMaterial:t.descripcion})},required:!0,children:c.map(a=>e.jsx("option",{value:a.id,children:a.nombre},a.id))}),e.jsx(I,{className:"text-red text-xs italic",message:s.materialId})]}),e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"DESCRIPCION MATERIAL"}),e.jsx(m,{id:"descripcionMaterial",name:"descripcionMaterial",autoResize:!0,value:d.descripcionMaterial,onChange:a=>r("descripcionMaterial",a.target.value),rows:5,cols:30,disabled:!0}),s.descripcionMaterial&&e.jsx("div",{className:"text-red-500",children:s.descripcionMaterial})]})]}),e.jsx("div",{className:"-mx-3 md:flex mb-6",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"DESCRIPCION"}),e.jsx(m,{id:"descripcion",name:"descripcion",autoResize:!0,value:d.descripcion,onChange:a=>r("descripcion",a.target.value),rows:5,cols:30,required:!0}),s.descripcion&&e.jsx("div",{className:"text-red-500",children:s.descripcion})]})}),e.jsx("div",{className:"p-field mb-4 flex justify-between",children:e.jsxs("div",{className:"flex",children:[e.jsx(v,{type:"submit",label:"Actualizar",className:"p-button-sm mr-2",severity:"info",outlined:!0}),e.jsx(g,{className:"p-button p-button-sm p-button-danger",href:route("entradaMaterial.index"),style:{color:"white"},children:"Cancelar"})]})})]})}),e.jsx("div",{className:"col-2 md:col-2"})]})]})})})]})}export{D as default};
