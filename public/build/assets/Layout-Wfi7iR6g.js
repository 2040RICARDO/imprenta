import{j as e,r as o,c as b,d as C,L as k,P as E,m as B}from"./app-CHYGdead.js";import{R as L,g as P,c as F,d as H}from"./ripple.esm-CspZCiMg.js";import{C as $}from"./CSSTransition-ZZGb8p9d.js";const z=()=>e.jsx("div",{className:"layout-footer",children:e.jsx("span",{className:"font-medium ml-2",children:"2024"})}),w=o.createContext({}),D=({children:s})=>{const[r,c]=o.useState(""),n={activeMenu:r,setActiveMenu:c};return e.jsx(w.Provider,{value:n,children:s})},O=s=>{const r=route(route().current()),c="",{activeMenu:n,setActiveMenu:d}=o.useContext(w),t=s.item,i=s.parentKey?s.parentKey+"-"+s.index:String(s.index),m=t.to&&r===t.to,p=n===i||n.startsWith(i+"-"),x=l=>{t.to&&t.to===l&&d(i)};o.useEffect(()=>{x(r)},[r,c]);const f=l=>{if(t.disabled){l.preventDefault();return}t.command&&t.command({originalEvent:l,item:t}),t.items?d(p?s.parentKey:i):d(i)},a=t.items&&t.visible!==!1&&e.jsx($,{timeout:{enter:1e3,exit:450},classNames:"layout-submenu",in:s.root?!0:p,children:e.jsx("ul",{children:t.items.map((l,h)=>e.jsx(O,{item:l,index:h,className:l.badgeClass,parentKey:i},l.label))})},t.label);return e.jsxs("li",{className:b({"layout-root-menuitem":s.root,"active-menuitem":p}),children:[s.root&&t.visible!==!1&&e.jsx("div",{className:"layout-menuitem-root-text",children:t.label}),(!t.to||t.items)&&t.visible!==!1?e.jsxs("a",{href:t.url,onClick:l=>f(l),className:b(t.class,"p-ripple"),target:t.target,tabIndex:0,children:[e.jsx("i",{className:b("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(L,{})]}):null,t.to&&!t.items&&t.visible!==!1?e.jsxs(C,{href:t.to,replace:t.replaceUrl,target:t.target,onClick:l=>f(l),className:b(t.class,"p-ripple",{"active-route":m}),tabIndex:0,children:[e.jsx("i",{className:b("layout-menuitem-icon",t.icon)}),e.jsx("span",{className:"layout-menuitem-text",children:t.label}),t.items&&e.jsx("i",{className:"pi pi-fw pi-angle-down layout-submenu-toggler"}),e.jsx(L,{})]}):null,a]})},W=({permisos:s})=>{const r=s.some(a=>a.name==="ver-categoria"),c=s.some(a=>a.name==="ver-roles"),n=s.some(a=>a.name==="ver-cargo"),d=s.some(a=>a.name==="ver-personal"),t=s.some(a=>a.name==="ver-material"),i=s.some(a=>a.name==="ver-entrada"),m=s.some(a=>a.name==="ver-salida"),p=s.some(a=>a.name==="ver-usuario"),f=[{label:"PRINCIPAL",items:[{label:"Home",icon:"pi pi-fw pi-home",to:route("dashboard")},r&&{label:"Categoria Producto",icon:"pi pi-fw pi-align-left",to:route("categoriaProducto.index")},n&&{label:"Cargos",icon:"pi pi-users pi-align-left",to:route("cargoPersonal.index")},d&&{label:"Personal",icon:"pi  pi-id-card",to:route("personal.index")},t&&{label:"Material",icon:"pi  pi-briefcase",to:route("material.index")},i&&{label:"Entrada de Material",icon:"pi  pi-arrow-right",to:route("entradaMaterial.index")},m&&{label:"Salida de Material",icon:"pi  pi-arrow-left",to:route("salidaMaterial.index")},p&&{label:"Users",icon:"pi  pi-user",to:route("userss.index")},c&&{label:"Roles",icon:"pi  pi-address-book",to:route("role.index")}]}].map(a=>({...a,items:a.items.filter(Boolean)}));return e.jsx(D,{children:e.jsx("ul",{className:"layout-menu",children:f.map((a,l)=>a!=null&&a.seperator?e.jsx("li",{className:"menu-separator"}):e.jsx(O,{item:a,root:!0,index:l},a.label))})})},q=({permisos:s})=>e.jsx(W,{permisos:s}),I=o.forwardRef((s,r)=>{const{layoutConfig:c,layoutState:n,onMenuToggle:d,showProfileSidebar:t}=o.useContext(k),i=o.useRef(null),m=o.useRef(null),p=o.useRef(null);return o.useImperativeHandle(r,()=>({menubutton:i.current,topbarmenu:m.current,topbarmenubutton:p.current})),e.jsxs("div",{className:"layout-topbar",children:[e.jsx("button",{ref:i,type:"button",className:"p-link layout-menu-button layout-topbar-button",onClick:d,children:e.jsx("i",{className:"pi pi-bars"})}),e.jsx("span",{style:{paddingLeft:"9px",fontWeight:"bold",fontSize:"18px"},children:"SIMP"}),e.jsx("button",{ref:p,type:"button",className:"p-link layout-topbar-menu-button layout-topbar-button",onClick:t,children:e.jsx("i",{className:"pi pi-user"})}),e.jsxs("div",{ref:m,className:b("layout-topbar-menu",{"layout-topbar-menu-mobile-active":n.profileSidebarVisible}),children:[e.jsxs(C,{href:route("profile.edit"),className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-user"}),e.jsx("span",{children:"Perfil"})]}),e.jsxs(C,{href:route("logout"),method:"post",as:"button",className:"p-link layout-topbar-button",children:[e.jsx("i",{className:"pi pi-lock"}),e.jsx("span",{children:"Salir"})]})]})]})});I.displayName="AppTopbar";const G=s=>{o.useState([12,13,14,15,16]);const{layoutConfig:r,setLayoutConfig:c,layoutState:n,setLayoutState:d}=o.useContext(k);o.useContext(E);const t=()=>{document.documentElement.style.fontSize=r.scale+"px"};return o.useEffect(()=>{t()},[r.scale]),e.jsx(e.Fragment,{})},J=({children:s,permisos:r})=>{const{layoutConfig:c,layoutState:n,setLayoutState:d}=o.useContext(k),{setRipple:t}=o.useContext(E),i=o.useRef(null),m=o.useRef(null),[p,x]=P({type:"click",listener:u=>{var y,v,j,g,M,N;!((y=m.current)!=null&&y.isSameNode(u.target)||(v=m.current)!=null&&v.contains(u.target)||(g=(j=i.current)==null?void 0:j.menubutton)!=null&&g.isSameNode(u.target)||(N=(M=i.current)==null?void 0:M.menubutton)!=null&&N.contains(u.target))&&h()}}),f=route().current();o.useEffect(()=>{h(),S()},[f]);const[a,l]=P({type:"click",listener:u=>{var y,v,j,g,M,N,R,A;!((v=(y=i.current)==null?void 0:y.topbarmenu)!=null&&v.isSameNode(u.target)||(g=(j=i.current)==null?void 0:j.topbarmenu)!=null&&g.contains(u.target)||(N=(M=i.current)==null?void 0:M.topbarmenubutton)!=null&&N.isSameNode(u.target)||(A=(R=i.current)==null?void 0:R.topbarmenubutton)!=null&&A.contains(u.target))&&S()}}),h=()=>{d(u=>({...u,overlayMenuActive:!1,staticMenuMobileActive:!1,menuHoverActive:!1})),x(),T()},S=()=>{d(u=>({...u,profileSidebarVisible:!1})),l()},K=()=>{document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"},T=()=>{document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")};F(()=>{t(c.ripple)}),o.useEffect(()=>{(n.overlayMenuActive||n.staticMenuMobileActive)&&p(),n.staticMenuMobileActive&&K()},[n.overlayMenuActive,n.staticMenuMobileActive]),o.useEffect(()=>{n.profileSidebarVisible&&a()},[n.profileSidebarVisible]),H(()=>{x(),l()});const U=b("layout-wrapper",{"layout-overlay":c.menuMode==="overlay","layout-static":c.menuMode==="static","layout-static-inactive":n.staticMenuDesktopInactive&&c.menuMode==="static","layout-overlay-active":n.overlayMenuActive,"layout-mobile-active":n.staticMenuMobileActive,"p-input-filled":c.inputStyle==="filled","p-ripple-disabled":!c.ripple});return e.jsx(B.Fragment,{children:e.jsxs("div",{className:U,children:[e.jsx(I,{ref:i}),e.jsx("div",{ref:m,className:"layout-sidebar",children:e.jsx(q,{permisos:r})}),e.jsxs("div",{className:"layout-main-container",children:[e.jsx("div",{className:"layout-main",children:s}),e.jsx(z,{})]}),e.jsx(G,{}),e.jsx("div",{className:"layout-mask"})]})})},Z=J;export{Z as L};
