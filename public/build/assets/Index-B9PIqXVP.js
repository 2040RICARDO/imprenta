import{r as t,W as $,j as e,d as l}from"./app-CHYGdead.js";import{L as W}from"./Layout-Wfi7iR6g.js";import{D as q,C as i}from"./column.esm--qm2aFAg.js";import{I as G}from"./inputtext.esm-H8qzUAnW.js";import{T as u}from"./button.esm-Hv8xCZ0W.js";import{D as g}from"./dialog.esm-on3wmI5o.js";import"./sweetalert2.all-5vuvPjx3.js";import{M as Q}from"./message.esm-CNsykkJa.js";import{P as U}from"./PrimaryButton-BWuVdxCS.js";import{B as _,Q as J}from"./ReactToastify-EWHmp7L1.js";import"./ripple.esm-CspZCiMg.js";import"./CSSTransition-ZZGb8p9d.js";import"./dropdown.esm-Dw636Vfu.js";import"./index.esm-wyNcokfP.js";import"./overlayservice.esm-DCauq-q2.js";import"./csstransition.esm-CwpohZbB.js";import"./index.esm-Dox7eZ0I.js";function ge({auth:K,personal:d,message:c,permisos:a}){a.some(s=>s.name==="ver-personal");const b=a.some(s=>s.name==="crear-personal"),j=a.some(s=>s.name==="editar-personal"),f=a.some(s=>s.name==="reporte-personal"),[y,v]=t.useState(0),[w,N]=t.useState(10),[C,p]=t.useState([]),[D,R]=t.useState(""),[r,L]=t.useState(null),[P,x]=t.useState(!1);t.useEffect(()=>{c!=null&&S(c),p(d)},[d]);const S=s=>_.success(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),I=s=>{v(s.first),N(s.rows)},O=s=>{R(s.target.value),A(s.target.value)},A=s=>{const n=d.filter(o=>o.id.toString().includes(s)||o.nombre.toLowerCase().includes(s.toLowerCase())||o.apellido.toLowerCase().includes(s.toLowerCase())||typeof o.celular=="string"&&o.celular.toLowerCase().includes(s.toLowerCase())||o.cargo.toLowerCase().includes(s.toLowerCase()));p(n)},E=s=>{L(s),x(!0)},k=()=>{x(!1)},{data:m,setData:T,post:X,processing:B,errors:Y}=$({estado:4}),[H,h]=t.useState(!1),F=()=>{h(!0)},M=()=>{h(!1)},z=()=>{const s=m.estado;window.open(`/reporte/personal/${s}`,"_blank")},V=e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"p-input-icon-left",style:{marginRight:"10px"},children:[e.jsx("i",{className:"pi pi-search"}),e.jsx(G,{type:"search",value:D,onChange:O,placeholder:"Buscar..."})]}),e.jsxs("div",{className:"items-end",children:[b&&e.jsx(l,{href:route("personal.create"),className:"p-button p-button-warning",style:{marginLeft:"10px",color:"black"},children:"Nuevo Personal"}),f&&e.jsx(l,{onClick:s=>{s.preventDefault(),F()},className:"p-button p-button-info",style:{marginLeft:"10px",color:"black"},children:"Reporte"})]})]});return e.jsxs(e.Fragment,{children:[e.jsxs(W,{permisos:a,children:[e.jsx("div",{children:e.jsx(J,{})}),e.jsx("div",{className:"grid",children:e.jsx("div",{className:"col-12 md:col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("h5",{children:"Lista de Personal"}),e.jsxs(q,{value:C,paginator:!0,first:y,rows:w,onPage:I,header:V,emptyMessage:"No hay registros encontrados",children:[e.jsx(i,{field:"id",header:"ID"}),e.jsx(i,{field:"nombre",header:"Nombre"}),e.jsx(i,{field:"apellidos",header:"Apellido"}),e.jsx(i,{field:"ci",header:"Fecha"}),e.jsx(i,{field:"celular",header:"Celular"}),e.jsx(i,{field:"direccion",header:"Direccion"}),e.jsx(i,{header:"",body:s=>e.jsxs("div",{className:"flex justify-around",children:[j&&e.jsxs(l,{href:`/personal/edit/${s.id}`,className:"p-button p-button-success p-button-rounded p-button-sm",style:{textDecoration:"none",padding:"0.25rem 0.5rem",fontSize:"0.75rem",marginRight:"5px",borderRadius:"20px"},children:[e.jsx(u,{target:".edit-link",content:"Editar",position:"bottom"}),e.jsx("i",{className:"pi pi-pencil pencil-icon edit-link",style:{marginRight:"2px",fontSize:"0.80rem",color:"black",verticalAlign:"middle"}})]}),e.jsxs(l,{onClick:n=>{n.preventDefault(),E(s)},className:"p-button p-button-info p-button-rounded p-button-sm",style:{textDecoration:"none",padding:"0.25rem 0.5rem",fontSize:"0.75rem",marginRight:"5px",borderRadius:"20px"},children:[e.jsx(u,{target:".show-link",content:"Ver",position:"bottom"}),e.jsx("i",{className:"pi pi-eye pencil-icon show-link",style:{marginRight:"2px",fontSize:"0.80rem",color:"white",verticalAlign:"middle"}})]})]})})]})]})})})]}),e.jsx(g,{visible:P,modal:!0,onHide:k,style:{width:"60%",minWidth:"300px"},children:r&&e.jsx("div",{class:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{class:"max-w-4xl  bg-whiterounded-lg shadow-xl",children:[e.jsxs("div",{class:"p-4 border-b",children:[e.jsx("h2",{class:"text-2xl ",children:"INFORMACION DEL PERSONAL"}),e.jsx("p",{class:"text-sm text-gray-500",children:r.cargo})]}),e.jsxs("div",{children:[e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"NOMBRE APELLIDO"}),e.jsxs("p",{children:[r.grado," ",r.nombre," ",r.apellidos]})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"CI"}),e.jsx("p",{children:r.ci})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"CELULAR"}),e.jsx("p",{children:r.celular})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"DIRECCION"}),e.jsx("p",{children:r.direccion})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"ESTADO"}),e.jsx("p",{children:e.jsx(Q,{severity:`${r.estado==1?"success":"error"}`,text:`${r.estado==1?"HABILITADO":"DESHABILITADO"}`})})]}),e.jsxs("div",{class:"md:grid md:grid-cols-2 hover:bg-gray-50 md:space-y-0 space-y-1 p-4 border-b",children:[e.jsx("p",{class:"text-gray-600",children:"OBSERVACION"}),e.jsx("p",{children:r.observacion})]})]})]})})}),e.jsx(g,{visible:H,modal:!0,onHide:M,style:{width:"30%",minWidth:"200px"},children:e.jsx("div",{class:"min-h-screen flex items-center justify-center px-4",children:e.jsxs("div",{class:"max-w-4xl  bg-whiterounded-lg shadow-xl",children:[e.jsx("div",{class:"p-4 border-b",children:e.jsx("h2",{class:"text-2xl ",children:"REPORTE DE PERSONAL"})}),e.jsxs("div",{children:[e.jsx("div",{className:"-mx-3 md:flex mb-6",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"ESTADO"}),e.jsxs("select",{id:"estado",className:"appearance-none block w-full bg-grey-lighter text-grey-darker border border-red rounded py-3 px-4 mb-3",value:m.estado,onChange:s=>T("estado",s.target.value),required:!0,children:[e.jsx("option",{value:4,children:"TODOS"},"4"),e.jsx("option",{value:1,children:"HABILITADO"},"1"),e.jsx("option",{value:0,children:"DESHABILITADO"},"0")]})]})}),e.jsx("div",{className:"p-field mb-4 flex justify-between",children:e.jsx("div",{className:"flex",children:e.jsx(U,{onClick:s=>{s.preventDefault(),z()},className:"middle none center mr-4 rounded-lg bg-blue-500 py-3 px-6 font-sans text-xs font-bold uppercase text-white shadow-md shadow-blue-500/20 transition-all hover:shadow-lg hover:shadow-blue-500/40 focus:opacity-[0.85] focus:shadow-none active:opacity-[0.85] active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none",disabled:B,children:"Reporte"})})})]})]})})})]})}export{ge as default};
