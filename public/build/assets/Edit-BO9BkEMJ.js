import{W as f,r as g,j as e,d as N}from"./app-CHYGdead.js";import{L as v}from"./Layout-Wfi7iR6g.js";import{I as w}from"./inputtext.esm-H8qzUAnW.js";import{B as y}from"./button.esm-Hv8xCZ0W.js";import{I as k}from"./inputtextarea.esm-CLd9R0Jq.js";import{B as C,Q as E}from"./ReactToastify-EWHmp7L1.js";import"./ripple.esm-CspZCiMg.js";import"./CSSTransition-ZZGb8p9d.js";function z({errors:r,permissions:n,role:t,permisosss:m,flash:c,permisos:x}){const{data:i,setData:l,put:p}=f({name:t.name,descripcion:t.description,permisos:m});function h(s){s.preventDefault(),p(route("role.update",{id:t.id}))}g.useEffect(()=>{(Object.keys(r).length>0||c.message!=null)&&u("Ocurrio un problema!")},[c]);const u=s=>C.error(s,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),j=(s,a)=>{console.log(i.permisos);const o=s.target.checked;console.log(o),l(d=>({...d,permisos:o?[...d.permisos,a]:d.permisos.filter(b=>b!==a)}))};return e.jsxs(v,{permisos:x,children:[e.jsx("div",{children:e.jsx(E,{})}),e.jsx("div",{className:"grid",children:e.jsx("div",{className:"col-12 md:col-12",children:e.jsxs("div",{className:"card",style:{width:"100%"},children:[e.jsx("h5",{children:"NUEVA ROL"}),e.jsxs("div",{className:"grid",children:[e.jsx("div",{className:"col-6 md:col-6",children:e.jsxs("form",{onSubmit:h,className:"p-fluid",children:[e.jsx("div",{className:"-mx-3 md:flex mb-6",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"ROL"}),e.jsx(w,{id:"name",name:"name",value:i.name,onChange:s=>l("name",s.target.value),required:!0}),r.name&&e.jsx("div",{className:"text-red-500",children:r.name})]})}),e.jsx("div",{className:"-mx-3 md:flex mb-5",children:e.jsxs("div",{className:"md:w-full px-3",children:[e.jsx("label",{className:"block uppercase tracking-wide text-grey-darker text-xs font-bold mb-2",for:"grid-password",children:"DESCRIPCION"}),e.jsx(k,{id:"descripcion",name:"descripcion",autoResize:!0,value:i.descripcion,onChange:s=>l("descripcion",s.target.value),rows:5,cols:30,required:!0}),r.descripcion&&e.jsx("div",{className:"text-red-500",children:r.descripcion})]})}),e.jsx("div",{className:"p-field mb-4 flex justify-between",children:e.jsxs("div",{className:"flex",children:[e.jsx(y,{type:"submit",label:"Actualizar",className:"p-button-sm mr-2",severity:"info",outlined:!0}),e.jsx(N,{className:"p-button p-button-sm p-button-danger",href:route("role.index"),style:{color:"white"},children:"Cancelar"})]})})]})}),e.jsx("div",{className:"col-5 md:col-5 overflow-y-scroll",style:{height:"300px"},children:e.jsxs("table",{className:"items-center w-full border-collapse text-blueGray-700",children:[e.jsx("thead",{class:"thead-light ",children:e.jsx("tr",{children:e.jsx("th",{colSpan:3,children:"PERMISOS"})})}),e.jsx("tbody",{children:n.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:e.jsx("input",{type:"checkbox",checked:i.permisos.includes(s.name),onChange:a=>j(a,s.name)})}),e.jsx("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:s.name}),e.jsxs("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4",children:["(",s.description,")"]})]},s.id))})]})})]})]})})})]})}export{z as default};
